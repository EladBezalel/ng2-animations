{"version":3,"file":"metadata.js","sourceRoot":"","sources":["../../../../../../modules/@angular/core/src/animation/metadata.ts"],"names":[],"mappings":"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","sourcesContent":["import {isPresent, isArray, isString, isStringMap, NumberWrapper} from '../facade/lang';\nimport {BaseException} from '../facade/exceptions';\n\nexport const AUTO_STYLE = \"*\";\nexport const FINAL_STATE_ALIAS = \"(final)\";\n\nexport class AnimationEntryMetadata {\n  constructor(public name: string, public definitions: AnimationStateMetadata[]) {}\n}\n\nexport abstract class AnimationStateMetadata {}\n\nexport class AnimationStateDeclarationMetadata extends AnimationStateMetadata {\n  constructor(public stateName: string, public styles: AnimationStyleMetadata) { super(); }\n}\n\nexport class AnimationStateTransitionMetadata extends AnimationStateMetadata {\n  constructor(public stateChangeExpr: string, public animation: AnimationMetadata) { super(); }\n}\n\nexport abstract class AnimationMetadata {}\n\nexport class AnimationStyleMetadata extends AnimationMetadata {\n  constructor(public styles: Array<string|{[key: string]: string | number}>, public offset: number = null) { super(); }\n}\n\nexport class AnimationAnimateMetadata extends AnimationMetadata {\n  constructor(public timings: string | number,\n              public styles: AnimationStyleMetadata[]) {\n    super();\n  }\n}\n\nexport abstract class AnimationWithStepsMetadata extends AnimationMetadata {\n  constructor() { super(); }\n  get steps(): AnimationMetadata[] { throw new BaseException('NOT IMPLEMENTED: Base Class'); }\n}\n\nexport class AnimationSequenceMetadata extends AnimationWithStepsMetadata {\n  constructor(private _steps: AnimationMetadata[]) { super(); }\n  get steps(): AnimationMetadata[] { return this._steps; }\n}\n\nexport class AnimationGroupMetadata extends AnimationWithStepsMetadata {\n  constructor(private _steps: AnimationMetadata[]) { super(); }\n  get steps(): AnimationMetadata[] { return this._steps; }\n}\n\nexport function animate(timing: string | number, styles: AnimationStyleMetadata|AnimationStyleMetadata[] = null): AnimationAnimateMetadata {\n  var styleEntries;\n  if (isPresent(styles)) {\n    styleEntries = isArray(styles) ? <AnimationStyleMetadata[]>styles : [<AnimationStyleMetadata>styles];\n  } else {\n    styleEntries = [style(\":\" + FINAL_STATE_ALIAS)];\n  }\n  return new AnimationAnimateMetadata(timing, styleEntries);\n}\n\nexport function group(steps: AnimationMetadata[]): AnimationGroupMetadata {\n  return new AnimationGroupMetadata(steps);\n}\n\nexport function sequence(steps: AnimationMetadata[]): AnimationSequenceMetadata {\n  return new AnimationSequenceMetadata(steps);\n}\n\nexport function style(tokens: string|{[key: string]: string | number}|Array<string|{[key: string]: string | number}>): AnimationStyleMetadata {\n  var input: Array<{[key: string]: string | number}|string>;\n  var offset: number = null;\n  if (isString(tokens)) {\n    input = [<string>tokens];\n  } else {\n    if (isArray(tokens)) {\n      input = <Array<{[key: string]: string | number}>>tokens;\n    } else {\n      input = [<{[key: string]: string | number}>tokens];\n    }\n    input.forEach(entry => {\n      var entryOffset = entry['offset'];\n      if (isPresent(entryOffset)) {\n        offset = offset == null ? NumberWrapper.parseFloat(entryOffset) : offset;\n      }\n    });\n  }\n  return new AnimationStyleMetadata(input, offset);\n}\n\nexport function state(stateName: string, styles: AnimationStyleMetadata): AnimationStateDeclarationMetadata {\n  return new AnimationStateDeclarationMetadata(stateName, styles);\n}\n\nexport function transition(stateChangeExpr: string, animationData: AnimationMetadata|AnimationMetadata[]): AnimationStateTransitionMetadata {\n  var animation = isArray(animationData)\n      ? new AnimationSequenceMetadata(<AnimationMetadata[]>animationData)\n      : <AnimationMetadata>animationData;\n  return new AnimationStateTransitionMetadata(stateChangeExpr, animation);\n}\n\nexport function animation(name: string, animation: AnimationMetadata|AnimationMetadata[]): AnimationEntryMetadata {\n  var entry = isArray(animation)\n    ? <AnimationMetadata[]>animation\n    : [<AnimationMetadata>animation];\n  return new AnimationEntryMetadata(name, entry);\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}